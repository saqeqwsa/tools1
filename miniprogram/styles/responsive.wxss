/* responsive.wxss - 全局响应式样式 */

/* ============================================
   响应式单位系统
   ============================================ */

/* 基础变量 */
:root {
  --container-padding: 6vw; /* 自适应容器内边距 */
  --card-margin: 4vw;       /* 卡片外边距 */
  --border-radius: 4vw;     /* 圆角大小 */
  --font-size-xl: 8vw;      /* 超大字体 */
  --font-size-lg: 5vw;      /* 大字体 */
  --font-size-md: 4vw;      /* 中等字体 */
  --font-size-sm: 3vw;      /* 小字体 */
  --font-size-xs: 2.5vw;    /* 超小字体 */
}

/* ============================================
   屏幕尺寸适配
   ============================================ */

/* 小屏设备 (iPhone SE, 小尺寸Android) */
@media (max-width: 375px) {
  :root {
    --container-padding: 32rpx;
    --card-margin: 24rpx;
    --border-radius: 24rpx;
    --font-size-xl: 44rpx;
    --font-size-lg: 36rpx;
    --font-size-md: 28rpx;
    --font-size-sm: 24rpx;
    --font-size-xs: 20rpx;
  }
}

/* 中等屏幕 (iPhone 12, 标准Android) */
@media (min-width: 376px) and (max-width: 414px) {
  :root {
    --container-padding: 48rpx;
    --card-margin: 32rpx;
    --border-radius: 32rpx;
    --font-size-xl: 48rpx;
    --font-size-lg: 38rpx;
    --font-size-md: 30rpx;
    --font-size-sm: 26rpx;
    --font-size-xs: 22rpx;
  }
}

/* 大屏设备 (iPhone Plus, 大尺寸Android) */
@media (min-width: 415px) {
  :root {
    --container-padding: 56rpx;
    --card-margin: 40rpx;
    --border-radius: 36rpx;
    --font-size-xl: 52rpx;
    --font-size-lg: 42rpx;
    --font-size-md: 32rpx;
    --font-size-sm: 28rpx;
    --font-size-xs: 24rpx;
  }
}

/* ============================================
   通用响应式类
   ============================================ */

/* 容器类 */
.responsive-container {
  padding-left: var(--container-padding);
  padding-right: var(--container-padding);
  width: 100%;
  box-sizing: border-box;
}

/* 响应式网格 */
.responsive-grid-2 {
  display: flex;
  flex-wrap: wrap;
  gap: var(--card-margin);
}

.responsive-grid-2 > view {
  width: calc(50% - var(--card-margin) / 2);
  flex-shrink: 0;
}

.responsive-grid-3 {
  display: flex;
  flex-wrap: wrap;
  gap: calc(var(--card-margin) / 2);
}

.responsive-grid-3 > view {
  width: calc(33.333% - var(--card-margin) / 3 * 2);
  flex-shrink: 0;
}

.responsive-grid-4 {
  display: flex;
  flex-wrap: wrap;
  gap: calc(var(--card-margin) / 2);
}

.responsive-grid-4 > view {
  width: calc(25% - var(--card-margin) / 4 * 3);
  flex-shrink: 0;
}

/* 响应式字体 */
.text-responsive-xl { font-size: var(--font-size-xl); }
.text-responsive-lg { font-size: var(--font-size-lg); }
.text-responsive-md { font-size: var(--font-size-md); }
.text-responsive-sm { font-size: var(--font-size-sm); }
.text-responsive-xs { font-size: var(--font-size-xs); }

/* 响应式间距 */
.margin-responsive { margin: var(--card-margin); }
.padding-responsive { padding: var(--container-padding); }
.border-radius-responsive { border-radius: var(--border-radius); }

/* ============================================
   设备方向适配
   ============================================ */

/* 横屏适配 */
@media (orientation: landscape) {
  .landscape-hidden { display: none !important; }
  .landscape-visible { display: block !important; }
  
  .responsive-container {
    padding-left: calc(var(--container-padding) * 1.5);
    padding-right: calc(var(--container-padding) * 1.5);
  }
  
  .responsive-grid-2 > view {
    width: calc(33.333% - var(--card-margin) / 3 * 2);
  }
  
  .responsive-grid-4 > view {
    width: calc(16.666% - var(--card-margin) / 6 * 5);
  }
}

/* 竖屏适配 */
@media (orientation: portrait) {
  .portrait-hidden { display: none !important; }
  .portrait-visible { display: block !important; }
}

/* ============================================
   特殊设备适配
   ============================================ */

/* iPhone X 系列刘海屏适配 */
.safe-area-top {
  padding-top: constant(safe-area-inset-top);
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: constant(safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom);
}

/* 动态岛适配 (iPhone 14 Pro系列) */
@supports (height: env(safe-area-inset-top)) {
  .dynamic-island-safe {
    margin-top: env(safe-area-inset-top);
  }
}

/* ============================================
   性能优化
   ============================================ */

/* GPU加速 */
.gpu-accelerated {
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
}

/* 流畅滚动 */
.smooth-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* ============================================
   辅助功能
   ============================================ */

/* 高对比度适配 */
@media (prefers-contrast: high) {
  .high-contrast {
    border: 2rpx solid currentColor;
    background-color: transparent !important;
  }
}

/* 减少动画适配 */
@media (prefers-reduced-motion: reduce) {
  .reduce-motion {
    animation: none !important;
    transition: none !important;
  }
}

/* 暗色模式适配 */
@media (prefers-color-scheme: dark) {
  .dark-mode-text {
    color: #ffffff;
  }
  
  .dark-mode-bg {
    background-color: #1a1a1a;
  }
  
  .dark-mode-card {
    background-color: #2d2d2d;
    border: 1rpx solid #404040;
  }
}
