<!--profile.wxml-->
<view class="container">
  <!-- 顶部个人信息区域 -->
  <view class="header-section">
    <view class="profile-info">
      <image class="avatar" src="{{userInfo.avatar || 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop&crop=face'}}" mode="aspectFill"></image>
      <view class="user-details">
        <text class="username">{{userInfo.nickname || '张小明'}}</text>
        <text class="user-title">{{userInfo.title || '全栈开发工程师'}}</text>
        <view class="user-meta">
          <text class="meta-item">
            <text class="meta-icon">📍</text>
            {{userInfo.location || '北京'}}
          </text>
          <text class="meta-item">
            <text class="meta-icon">💼</text>
            {{userInfo.experience || '3年经验'}}
          </text>
        </view>
      </view>
      <text class="edit-icon" bindtap="onEditProfile">✏️</text>
    </view>
  </view>

  <!-- 统计信息 -->
  <view class="stats-section">
    <view class="stats-card">
      <view class="stats-grid">
        <view class="stat-item">
          <text class="stat-number">{{stats.completedProjects}}</text>
          <text class="stat-label">完成项目</text>
        </view>
        <view class="stat-item">
          <text class="stat-number">¥{{stats.totalIncome}}K</text>
          <text class="stat-label">总收入</text>
        </view>
        <view class="stat-item">
          <text class="stat-number">{{stats.rating}}</text>
          <text class="stat-label">客户评分</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 技能标签 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">💪 技能标签</text>
    </view>
    <view class="skills-container">
      <text class="skill-tag" wx:for="{{skills}}" wx:key="index" style="background-color: {{item.bgColor}}; color: {{item.color}};">
        {{item.name}}
      </text>
    </view>
  </view>

  <!-- 最近项目 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">📁 最近项目</text>
    </view>
    <view class="project-list">
      <view class="project-item" wx:for="{{recentProjects}}" wx:key="id" bindtap="onProjectTap" data-project="{{item}}">
        <view class="project-content">
          <view class="project-left">
            <view class="project-icon" style="background: {{item.gradient}};">
              <text class="project-icon-text">{{item.iconText}}</text>
            </view>
            <view class="project-info">
              <text class="project-title">{{item.title}}</text>
              <text class="project-desc">{{item.description}}</text>
            </view>
          </view>
          <view class="project-right">
            <text class="project-price">¥{{item.price}}K</text>
            <text class="project-status" style="color: {{item.statusColor}};">{{item.status}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">⚙️ 功能设置</text>
    </view>
    <view class="menu-card">
      <view class="menu-item" wx:for="{{menuItems}}" wx:key="id" bindtap="onMenuTap" data-menu="{{item}}">
        <view class="menu-left">
          <view class="menu-icon" style="background-color: {{item.bgColor}};">
            <image class="menu-icon-img" src="{{item.icon}}"></image>
          </view>
          <text class="menu-text">{{item.title}}</text>
        </view>
        <image class="menu-arrow" src="../../images/arrow.svg"></image>
      </view>
    </view>
  </view>

  <!-- 成就徽章 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">🏆 成就徽章</text>
    </view>
    <view class="achievement-grid">
      <view class="achievement-item" wx:for="{{achievements}}" wx:key="id" bindtap="onAchievementTap" data-achievement="{{item}}">
        <view class="achievement-icon" style="background-color: {{item.bgColor}};">
          <image class="achievement-icon-img" src="{{item.icon}}"></image>
        </view>
        <text class="achievement-name">{{item.name}}</text>
      </view>
    </view>
  </view>
</view>
