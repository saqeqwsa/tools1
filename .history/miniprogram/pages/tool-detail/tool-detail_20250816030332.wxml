<!--tool-detail.wxml-->
<view class="container">
  <!-- å·¥å…·å¤´éƒ¨ä¿¡æ¯ -->
  <view class="tool-header">
    <view class="tool-main-info">
      <image class="tool-avatar" src="{{toolInfo.avatar}}"></image>
      <view class="tool-details">
        <text class="tool-title">{{toolInfo.title}}</text>
        <text class="tool-subtitle">{{toolInfo.subtitle}}</text>
        <view class="tool-meta">
          <view class="rating-section">
            <text class="rating-score">{{toolInfo.rating}}</text>
            <view class="stars">
              <image class="star" wx:for="{{5}}" wx:key="index" 
                     src="{{index < toolInfo.starCount ? '../../images/icons/avatar.png' : '../../images/icons/close.png'}}"></image>
            </view>
            <text class="rating-count">({{toolInfo.reviewCount}}äººè¯„ä»·)</text>
          </view>
        </view>
      </view>
    </view>
    <view class="tool-actions">
      <button class="action-btn primary" bindtap="onUseTool">
        {{toolInfo.price ? 'Â¥' + toolInfo.price : 'å…è´¹ä½¿ç”¨'}}
      </button>
      <button class="action-btn secondary" bindtap="onCollectTool">
        <image class="collect-icon" src="../../images/icons/{{toolInfo.isCollected ? 'business-active' : 'business'}}.png"></image>
      </button>
    </view>
  </view>

  <!-- åŠŸèƒ½ç‰¹è‰² -->
  <view class="section">
    <view class="section-title">âœ¨ åŠŸèƒ½ç‰¹è‰²</view>
    <view class="features-list">
      <view class="feature-item" wx:for="{{toolInfo.features}}" wx:key="index">
        <image class="feature-icon" src="../../images/icons/examples.png"></image>
        <text class="feature-text">{{item}}</text>
      </view>
    </view>
  </view>

  <!-- å·¥å…·ä»‹ç» -->
  <view class="section">
    <view class="section-title">ğŸ“– å·¥å…·ä»‹ç»</view>
    <view class="description-card">
      <text class="description-text">{{toolInfo.description}}</text>
    </view>
  </view>

  <!-- ä½¿ç”¨æ•™ç¨‹ -->
  <view class="section">
    <view class="section-title">ğŸ“š ä½¿ç”¨æ•™ç¨‹</view>
    <view class="tutorial-list">
      <view class="tutorial-item" wx:for="{{toolInfo.tutorials}}" wx:key="index" bindtap="onTutorialTap" data-tutorial="{{item}}">
        <view class="tutorial-number">{{index + 1}}</view>
        <view class="tutorial-content">
          <text class="tutorial-title">{{item.title}}</text>
          <text class="tutorial-desc">{{item.description}}</text>
        </view>
        <image class="tutorial-arrow" src="../../images/arrow.svg"></image>
      </view>
    </view>
  </view>

  <!-- ç”¨æˆ·è¯„ä»· -->
  <view class="section">
    <view class="section-title">ğŸ’¬ ç”¨æˆ·è¯„ä»·</view>
    <view class="reviews-list">
      <view class="review-item" wx:for="{{toolInfo.reviews}}" wx:key="id">
        <view class="review-header">
          <image class="reviewer-avatar" src="{{item.avatar}}"></image>
          <view class="reviewer-info">
            <text class="reviewer-name">{{item.username}}</text>
            <view class="review-meta">
              <view class="review-stars">
                <image class="star-small" wx:for="{{5}}" wx:key="index" wx:for-item="star" wx:for-index="starIndex"
                       src="{{starIndex < item.rating ? '../../images/icons/avatar.png' : '../../images/icons/close.png'}}"></image>
              </view>
              <text class="review-date">{{item.date}}</text>
            </view>
          </view>
        </view>
        <text class="review-content">{{item.content}}</text>
      </view>
    </view>
    <view class="load-more" bindtap="onLoadMoreReviews">
      <text>æŸ¥çœ‹æ›´å¤šè¯„ä»·</text>
    </view>
  </view>

  <!-- ç›¸å…³æ¨è -->
  <view class="section">
    <view class="section-title">ğŸ”— ç›¸å…³æ¨è</view>
    <scroll-view class="related-tools" scroll-x>
      <view class="related-item" wx:for="{{relatedTools}}" wx:key="id" bindtap="onRelatedToolTap" data-tool="{{item}}">
        <image class="related-avatar" src="{{item.avatar}}"></image>
        <text class="related-title">{{item.title}}</text>
        <text class="related-rating">{{item.rating}}åˆ†</text>
      </view>
    </scroll-view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæ  -->
  <view class="bottom-actions">
    <button class="share-btn" bindtap="onShareTool">
      <image class="share-icon" src="../../images/icons/share.svg"></image>
      <text>åˆ†äº«</text>
    </button>
    <button class="contact-btn" bindtap="onContactSupport">
      <image class="contact-icon" src="../../images/icons/customer-service.svg"></image>
      <text>å®¢æœ</text>
    </button>
    <button class="use-now-btn" bindtap="onUseTool">ç«‹å³ä½¿ç”¨</button>
  </view>
</view>
